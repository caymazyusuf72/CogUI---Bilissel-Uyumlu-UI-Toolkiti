<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CogUI Design Tools - Cognitive-Adaptive UI Designer</title>
    <meta name="description" content="Visual design tools for creating accessible and cognitive-adaptive user interfaces">
    
    <!-- Favicon and Icons -->
    <link rel="icon" type="image/x-icon" href="./assets/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/apple-touch-icon.png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Accessibility Features -->
    <meta name="color-scheme" content="light dark">
    <meta name="theme-color" content="#2563eb" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#1e40af" media="(prefers-color-scheme: dark)">
    
    <!-- Performance Optimizations -->
    <link rel="dns-prefetch" href="https://api.cogui.dev">
    <link rel="preload" href="./js/main.js" as="script">
    <link rel="preload" href="./css/main.css" as="style">
    
    <style>
        /* Critical CSS for instant loading */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8fafc;
            color: #1e293b;
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            color: white;
            flex-direction: column;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .app-container {
            display: none;
            min-height: 100vh;
        }
        
        /* High contrast mode support */
        @media (prefers-contrast: high) {
            body {
                background: #ffffff;
                color: #000000;
            }
        }
        
        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            .loading-spinner {
                animation: none;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-spinner"></div>
        <h2 style="margin-top: 20px; font-weight: 300;">Loading CogUI Design Tools...</h2>
        <p style="opacity: 0.8; margin-top: 10px;">Initializing cognitive-adaptive design environment</p>
    </div>

    <!-- Main Application -->
    <div class="app-container" id="appContainer">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo-section">
                    <img src="./assets/logo.svg" alt="CogUI" class="logo">
                    <h1>Design Tools</h1>
                </div>
                
                <nav class="main-nav">
                    <button class="nav-btn active" data-section="components">
                        <span class="nav-icon">üß©</span>
                        Components
                    </button>
                    <button class="nav-btn" data-section="themes">
                        <span class="nav-icon">üé®</span>
                        Themes
                    </button>
                    <button class="nav-btn" data-section="accessibility">
                        <span class="nav-icon">‚ôø</span>
                        Accessibility
                    </button>
                    <button class="nav-btn" data-section="preview">
                        <span class="nav-icon">üëÅÔ∏è</span>
                        Preview
                    </button>
                </nav>
                
                <div class="header-actions">
                    <button class="btn btn-secondary" id="exportBtn">
                        <span class="btn-icon">üì•</span>
                        Export
                    </button>
                    <button class="btn btn-primary" id="saveBtn">
                        <span class="btn-icon">üíæ</span>
                        Save
                    </button>
                    <button class="accessibility-toggle" id="accessibilityToggle" 
                            aria-label="Toggle accessibility features"
                            title="Accessibility Tools">
                        ‚ôø
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="sidebar-content">
                    <!-- Component Library -->
                    <section class="sidebar-section" id="componentsSection">
                        <h2 class="section-title">Component Library</h2>
                        <div class="component-grid">
                            <div class="component-item" draggable="true" data-component="button">
                                <div class="component-preview">
                                    <button class="sample-button">Button</button>
                                </div>
                                <span class="component-label">Button</span>
                            </div>
                            
                            <div class="component-item" draggable="true" data-component="input">
                                <div class="component-preview">
                                    <input class="sample-input" placeholder="Input field" readonly>
                                </div>
                                <span class="component-label">Input</span>
                            </div>
                            
                            <div class="component-item" draggable="true" data-component="card">
                                <div class="component-preview">
                                    <div class="sample-card">Card</div>
                                </div>
                                <span class="component-label">Card</span>
                            </div>
                            
                            <div class="component-item" draggable="true" data-component="modal">
                                <div class="component-preview">
                                    <div class="sample-modal">Modal</div>
                                </div>
                                <span class="component-label">Modal</span>
                            </div>
                        </div>
                        
                        <div class="section-divider"></div>
                        
                        <h3 class="subsection-title">Advanced Components</h3>
                        <div class="component-grid">
                            <div class="component-item" draggable="true" data-component="datagrid">
                                <div class="component-preview">
                                    <div class="sample-grid">üìä DataGrid</div>
                                </div>
                                <span class="component-label">DataGrid</span>
                            </div>
                            
                            <div class="component-item" draggable="true" data-component="chart">
                                <div class="component-preview">
                                    <div class="sample-chart">üìà Chart</div>
                                </div>
                                <span class="component-label">Chart</span>
                            </div>
                        </div>
                    </section>

                    <!-- Theme Editor -->
                    <section class="sidebar-section hidden" id="themesSection">
                        <h2 class="section-title">Theme Editor</h2>
                        <div class="theme-controls">
                            <div class="control-group">
                                <label for="primaryColor">Primary Color</label>
                                <input type="color" id="primaryColor" value="#2563eb">
                            </div>
                            
                            <div class="control-group">
                                <label for="secondaryColor">Secondary Color</label>
                                <input type="color" id="secondaryColor" value="#64748b">
                            </div>
                            
                            <div class="control-group">
                                <label for="fontSize">Base Font Size</label>
                                <input type="range" id="fontSize" min="12" max="24" value="16">
                                <span class="range-value">16px</span>
                            </div>
                            
                            <div class="control-group">
                                <label for="borderRadius">Border Radius</label>
                                <input type="range" id="borderRadius" min="0" max="20" value="6">
                                <span class="range-value">6px</span>
                            </div>
                        </div>
                        
                        <div class="preset-themes">
                            <h3 class="subsection-title">Preset Themes</h3>
                            <button class="theme-preset active" data-theme="default">Default</button>
                            <button class="theme-preset" data-theme="dark">Dark</button>
                            <button class="theme-preset" data-theme="high-contrast">High Contrast</button>
                            <button class="theme-preset" data-theme="dyslexic">Dyslexic Friendly</button>
                        </div>
                    </section>

                    <!-- Accessibility Panel -->
                    <section class="sidebar-section hidden" id="accessibilitySection">
                        <h2 class="section-title">Accessibility Tools</h2>
                        <div class="a11y-tools">
                            <div class="tool-group">
                                <h3 class="tool-title">Color Contrast</h3>
                                <div class="contrast-checker">
                                    <div class="color-input">
                                        <label>Foreground</label>
                                        <input type="color" id="contrastFg" value="#000000">
                                    </div>
                                    <div class="color-input">
                                        <label>Background</label>
                                        <input type="color" id="contrastBg" value="#ffffff">
                                    </div>
                                    <div class="contrast-result">
                                        <span class="contrast-ratio">21:1</span>
                                        <span class="contrast-status pass">WCAG AA ‚úì</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="tool-group">
                                <h3 class="tool-title">Focus Indicators</h3>
                                <div class="focus-controls">
                                    <label>
                                        <input type="checkbox" id="showFocusRings" checked>
                                        Show focus rings
                                    </label>
                                    <label>
                                        <input type="checkbox" id="highContrastFocus">
                                        High contrast focus
                                    </label>
                                </div>
                            </div>
                            
                            <div class="tool-group">
                                <h3 class="tool-title">Screen Reader</h3>
                                <div class="sr-controls">
                                    <button class="btn btn-secondary" id="validateAria">
                                        Validate ARIA
                                    </button>
                                    <button class="btn btn-secondary" id="readableContent">
                                        Check Readability
                                    </button>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </aside>

            <!-- Canvas Area -->
            <section class="canvas-area">
                <div class="canvas-header">
                    <div class="canvas-tools">
                        <button class="tool-btn active" data-tool="select" title="Select Tool">
                            <span class="tool-icon">‚ÜñÔ∏è</span>
                        </button>
                        <button class="tool-btn" data-tool="text" title="Text Tool">
                            <span class="tool-icon">üìù</span>
                        </button>
                        <button class="tool-btn" data-tool="shapes" title="Shapes Tool">
                            <span class="tool-icon">üî∑</span>
                        </button>
                        <button class="tool-btn" data-tool="image" title="Image Tool">
                            <span class="tool-icon">üñºÔ∏è</span>
                        </button>
                    </div>
                    
                    <div class="canvas-info">
                        <span class="canvas-size">1200 x 800</span>
                        <div class="zoom-controls">
                            <button class="zoom-btn" id="zoomOut">-</button>
                            <span class="zoom-level">100%</span>
                            <button class="zoom-btn" id="zoomIn">+</button>
                        </div>
                    </div>
                </div>
                
                <div class="canvas-container">
                    <div class="canvas" id="designCanvas">
                        <div class="canvas-content">
                            <!-- Design elements will be added here dynamically -->
                            <div class="welcome-message">
                                <h2>Welcome to CogUI Design Tools</h2>
                                <p>Drag components from the sidebar to start designing</p>
                                <p class="accessibility-note">
                                    üåü All components are built with accessibility in mind
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Properties Panel -->
            <aside class="properties-panel">
                <div class="panel-content">
                    <h2 class="panel-title">Properties</h2>
                    
                    <div class="properties-content" id="propertiesContent">
                        <div class="no-selection">
                            <p>Select a component to edit its properties</p>
                        </div>
                    </div>
                </div>
            </aside>
        </main>

        <!-- Status Bar -->
        <footer class="status-bar">
            <div class="status-left">
                <span class="status-item">Ready</span>
                <span class="status-item" id="componentCount">0 components</span>
            </div>
            
            <div class="status-right">
                <span class="status-item" id="accessibilityScore">A11y Score: 100%</span>
                <span class="status-item" id="performanceScore">Performance: Good</span>
                <span class="status-item">v1.0.0</span>
            </div>
        </footer>
    </div>

    <!-- Modal for Export Options -->
    <div class="modal hidden" id="exportModal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <h2>Export Design</h2>
            <div class="export-options">
                <label>
                    <input type="radio" name="exportType" value="react" checked>
                    React Components
                </label>
                <label>
                    <input type="radio" name="exportType" value="vue">
                    Vue Components
                </label>
                <label>
                    <input type="radio" name="exportType" value="html">
                    HTML/CSS
                </label>
                <label>
                    <input type="radio" name="exportType" value="figma">
                    Figma Plugin
                </label>
            </div>
            
            <div class="modal-actions">
                <button class="btn btn-secondary" id="cancelExport">Cancel</button>
                <button class="btn btn-primary" id="confirmExport">Export</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="./js/main.js"></script>
    <script src="./js/canvas.js"></script>
    <script src="./js/accessibility.js"></script>
    
    <!-- Service Worker for offline support -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(registration => console.log('SW registered'))
                    .catch(error => console.log('SW registration failed'));
            });
        }
    </script>
</body>
</html>